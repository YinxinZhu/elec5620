{% extends 'base.html' %}
{% block title %}My Profile{% endblock %}
{% block content %}
<h1 class="h3 mb-4">My Profile</h1>
<form method="post" class="row g-3">
  <div class="col-md-6">
    <label class="form-label" for="name">Name</label>
    <input class="form-control" id="name" name="name" value="{{ current_user.name }}" required>
  </div>
  <div class="col-md-6">
    <label class="form-label" for="mobile_number">Mobile number</label>
    <input type="tel" class="form-control" id="mobile_number" name="mobile_number" value="{{ current_user.mobile_number }}" required>
  </div>
  <div class="col-md-6">
    <label class="form-label" for="city">City</label>
    <input class="form-control" id="city" name="city" value="{{ current_user.city }}" required>
  </div>
  <div class="col-md-6">
    <label class="form-label" for="state">State</label>
    <select class="form-select" id="state" name="state" required>
      <option value="">Chooseâ€¦</option>
      {% for state in state_choices %}
      <option value="{{ state }}" {% if current_user.state == state %}selected{% endif %}>{{ state }}</option>
      {% endfor %}
      {% if current_user.state and current_user.state not in state_choices %}
      <option value="{{ current_user.state }}" selected>{{ current_user.state }}</option>
      {% endif %}
    </select>
  </div>
  <div class="col-12">
    <span class="form-label d-block">Vehicle types</span>
    {% set selected = current_user.vehicle_type_list() %}
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" id="vehicleAT" name="vehicle_types" value="AT" {% if 'AT' in selected %}checked{% endif %}>
      <label class="form-check-label" for="vehicleAT">Automatic (AT)</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" id="vehicleMT" name="vehicle_types" value="MT" {% if 'MT' in selected %}checked{% endif %}>
      <label class="form-check-label" for="vehicleMT">Manual (MT)</label>
    </div>
  </div>
  <div class="col-12">
    <label class="form-label" for="bio">About you</label>
    <textarea class="form-control" id="bio" name="bio" rows="4">{{ current_user.bio }}</textarea>
  </div>
  <div class="col-12">
    <button class="btn btn-primary" type="submit">Save changes</button>
  </div>
</form>
{% endblock %}
